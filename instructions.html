<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
<link href="assets/images/favicon.ico" rel="icon" />
<title>Work Example - Instructions</title>
<meta name="description" content="Work Example - Instructions">
<meta name="author" content="Elena Chertova">

<!-- Stylesheet
============================== -->
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/css/bootstrap.min.css" />
<!-- Font Awesome Icon -->
<link rel="stylesheet" type="text/css" href="assets/vendor/fontawesome/css/all.min.css" />
<!-- Magnific Popup -->
<link rel="stylesheet" type="text/css" href="assets/vendor/magnific-popup/magnific-popup.min.css" />
<!-- Highlight Syntax -->
<link rel="stylesheet" type="text/css" href="assets/vendor/highlight.js/styles/github.css" />
<!-- Custom Stylesheet -->
<link rel="stylesheet" type="text/css" href="assets/css/stylesheet.css" />
<link rel="stylesheet" type="text/css" href="assets/css/color-orange.css" />
</head>

<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">

<!-- Preloader -->
<div class="preloader">
  <div class="lds-ellipsis">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
<!-- Preloader End --> 

<!-- Document Wrapper   
=============================== -->
<div id="main-wrapper"> 
  
  <!-- Header
  ============================ -->
  <header id="header" class="sticky-top"> 
    <!-- Navbar -->
    <nav class="primary-menu navbar navbar-expand-lg navbar-dropdown-light">
      <div class="container-fluid">
        <!-- Sidebar Toggler -->
		<button id="sidebarCollapse" class="navbar-toggler d-block d-md-none" type="button"><span></span><span class="w-75"></span><span class="w-50"></span></button>
		
		<!-- Logo --> 
        <a class="logo ml-md-3" href="instructions.html" title="Work Examples"> <img src="assets/images/logo-example-tutorial.png" width="250" alt="Work Examples"/> </a> 
        <!-- Logo End -->
        
		<!-- Navbar Toggler -->
		<button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#header-nav"><span></span><span></span><span></span></button>
        
		<div id="header-nav" class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav">
        <li class="dropdown"> <a class="dropdown-toggle" href="#">Work Examples</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="concept.html">Concept</a></li>
            <li><a class="dropdown-item" href="instructions.html">Instructions</a></li>
          </ul>
        </li>
        <li><a target="_blank" href="index.html"><button type="button" class="btn btn-light">Back to CV</button></a></li>
      </ul>
    </nav>
    <!-- Navbar End --> 
  </header>
  <!-- Header End --> 
  
  <!-- Content
  ============================ -->
  <div id="content" role="main">
    
	<!-- Sidebar Navigation
	============================ -->
	<div class="idocs-navigation bg-light">
      <ul class="nav flex-column ">
        <li class="nav-item"><a class="nav-link active" href="#doctitle">Introduction</a></li>
        <li class="nav-item"><a class="nav-link" href="#before">Before you begin</a></li>
        <li class="nav-item"><a class="nav-link" href="#exportfiles">Export files from XMetal</a></li>
        <li class="nav-item"><a class="nav-link" href="#importfiles">Import files into Flare</a></li>
		    <li class="nav-item"><a class="nav-link" href="#cleanup">Clean up imported files</a></li>
        <li class="nav-item"><a class="nav-link" href="#restoreimg">Restore images</a></li>
        <li class="nav-item"><a class="nav-link" href="#formattables">Format imported tables</a></li>
        <li class="nav-item"><a class="nav-link" href="#movetoproduction">Move files to production</a></li>
      </ul>
    </div>
    
    <!-- Docs Content
	============================ -->
    <div class="idocs-content">
      <div class="container"> 
        
        <!-- Intro
		============================ -->
      <h1 id="doctitle">Migrate XML files from XMetal into Flare</h1>
      <p>This tutorial explains how to move XML files from the legacy documentation system into a Flare project. You can use it to migrate the documents that do not need much rework on the structure and style.</p>

      <h2 id="before">Before you begin</h2>
      <p>The import process may bring in additional CSS styles that the Flare project does not support. To avoid overwriting the existing styles, you should work in a local project (referred to as “sandbox”).</p>
      <p>To create a sandbox project, copy the template project from Git and put it into a chosen folder on your machine.</p>

      <h2 id="exportfiles">Export files from XMetal</h2>
      <p>First, you copy the necessary files from the SharePoint library using the export feature in XMetal.</p>

      <ol>
        <li>Launch XMetal as Administrator and select <b>Repository > Open from Repository</b>.</li>
        <li><p>Right-click the folder you want to export and select <b>Export</b>.</p> 
            <p><img src="assets/images/img_01_XMetalExport.png" width="20%" class="p-1 border"></p>
        </li>
        <li>Select a folder for exported files on your machine and click <b>OK</b>. Wait while the application completes the process.</li>
      </ol>

      <h2 id="importfiles">Import files into Flare</h2>

      <p>The legacy system uses DITA for structuring XML files, so to import the files to Flare, you use the DITA import feature that simplifies the conversion of such files.</p>
      <ol>
        <li>Open your sandbox project in Flare. DO NOT import the files to projects connected to Git.</li>
        <li><p>On the <b>Project</b> tab, select <b>Import > DITA Document Set</b>.</p>
            <p><img src="assets/images/img_02_ImportDitaDocSet.png" width="25%" class="p-1 border"></p>
        </li>
        <li>Select the <b>Import into this project</b> option and click <b>Next</b>.</li>
        <li>In the Select DITA Documents to import dialog, click the <b>+</b> button and browse to the files exported from XMetal. Use <b>SHIFT+Click</b> to select multiple files.</li>
        <li><p>Clear the <b>Link generated files to source files</b> check box. Click <b>Next</b>.</p>
          <p><img src="assets/images/img_03_SelectImportFiles.png" width="50%" class="p-1 border"></p>
        </li>
        <li><p>In the Options dialog, keep the <b>Import all Content files to one folder</b> check box selected.</p>
          <p><img src="assets/images/img_04_FlareImportOptions.png" width="25%" class="p-1 border"></p>
        </li>
        <li>In the Stylesheet dialog, click <b>Conversion Styles</b>.</li>
        <li>In the DITA Import Styles Editor, the <b>Styles</b> pane displays the tags that may be part of you XMetal files. You need to adjust their markup properties for the application to convert the XML tags correctly.
          <p>For example, under <b>concept</b>, select <b>concept</b> and change the <b>XhtmlTag</b> value to <b>p</b>.</p>
          <p><img src="assets/images/img_05_StyleConfig.png" width="50%" class="p-1 border"></p>
          <p>The below table includes the list of the most used tags and the new markup properties that you should assign to them.</p>
          <table class="table table-bordered table-hover w-auto">
            <thead>
              <th scope="col">Tag</th>
              <th scope="col">Values</th>
            </thead>
            <tbody>
              <tr>
                <td>concept > concept</td>
                <td>XhtmlTag: p</td>
              </tr>
              <tr>
                <td>note > Note, NoteImportant, NoteTip</td>
                <td>XhtmlTag: p</td>
              </tr>
              <tr>
                <td>task > context, info, postreq, prereq, result, stepresult, task</td>
                <td>XhtmlTag: p</td>
              </tr>
              <tr>
                <td>tblDecl > entry</td>
                <td>XhtmlTag: td
                    <p>Class: table--bordered</p>
                </td>
              </tr>
              <tr>
                <td>tblDecl > table</td>
                <td>XhtmlTag: table
                    <p>Class: table</p>
                </td>
              </tr>
              <tr>
                <td>tblDecl > tbody</td>
                <td>XhtmlTag: tbody
                  <p>Class: table--bordered</p>
                </td>
              </tr>
              <tr>
                <td>tblDecl > thead</td>
                <td>XhtmlTag: thead
                  <p>Class: table--color-header</p>
                </td>
              </tr>
              <tr>
                <td>Title > ConceptTitle, TaskTitle</td>
                <td>XhtmlTag: h1
                  <p>Class: firstH1</p>
                </td>
              </tr>
              <tr>
                <td>topic > abstract, example, section, shortdesc, topic</td>
                <td>XhtmlTag: p</td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>When you are done, click <b>OK</b> to close the style editor. Then click <b>Finish</b>.</li>
        <li>When the import process completes, preview the files and select <b>Accept</b>.</li>
      </ol>
      <h2 id="cleanup">Clean up imported files</h2>
      <p>Converted files have obsolete classes and tags you need to clean up or replace. You can handle this by mass updating the elements in the plain text editor.</p>
      <ol>
        <li>Navigate to the folder where you imported the files.</li>
        <li>Delete the .css file in the folder and in the Link Update dialog, select <b>Remove Links</b>.</li>
        <li>Open any file in the imported folder and switch to the <b>Text Editor</b> view.</li>
        <li>On the <b>Home</b> tab, select <b>Find and Replace</b>.</li>
        <li>On the <b>Find Elements</b> tab, under <b>Find</b>, select <b>Tag</b> and in the field to the right, enter <b>span</b>.</li>
        <li>Under <b>Replace/Action</b>, select <b>Unbind Tag</b>.</li>
        <li><p>Under <b>Find in</b>, select <b>documents in the same folder</b> and then select <b>Replace All</b>.</p>
          <p><img src="assets/images/img_06_UnbindSpan.png" width="40%" class="p-1 border"></p>
        </li>
        <li>Select the <b>Find Text</b> tab. Under <b>Find in</b>, select <b>documents in the same folder</b>.</li>
        <li><p>Under <b>Options</b>, select <b>Find in source code</b>.</p>
          <p><img src="assets/images/img_07_ReplaceClasses.png" width="40%" class="p-1 border"></p>
        </li>
        <li><p>Replace the following classes with a blank value (note, there’s a space before <b>class</b>):</p>
        <table class="table table-bordered table-hover w-auto">
        <tbody>
          <tr>
            <td> class="task"</td>
          </tr>
          <tr>
            <td> class="taskbody"</td>
          </tr>
          <tr>
            <td> class="context"</td>
          </tr>
          <tr>
            <td> class="steps"</td>
          </tr>
          <tr>
            <td> class="substep"</td>
          </tr>
          <tr>
            <td> class="info"</td>
          </tr>
          <tr>
            <td> class="result"</td>
          </tr>
          <tr>
            <td> class="concept"</td>
          </tr>
          <tr>
            <td> class="conbody"</td>
          </tr>
        </tbody>
        </table>
        </li>
        <li><p>Make the following replacements:</p>
          <table class="table table-bordered table-hover w-auto">
            <thead>
              <tr>
                <th scope="col">Find</th>
                <th scope="col">Replace</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>class="note"</td>
                <td>class="epnote"</td>
              </tr>
              <tr>
                <td>class="noteImportant"</td>
                <td>class="epnote-a"</td>
              </tr>
              <tr>
                <td>class="noteTip"</td>
                <td>class="epnote-opt"</td>
              </tr>
              <tr>
                <td>class="substeps"</td>
                <td>style="list-style-type: lower-alpha;"</td>
              </tr>
            </tbody>
          </table>
      </li>
      </ol>
      <h2 id="restoreimg">Restore images</h2>
      <p>If the files you imported had images, their references are preserved as they were in the original files, pointing to the SharePoint library. You can change the references to link to the images with the same names in the current Flare project.</p>
      <p>After you update image references, you also need to assign the image element with the standard class.</p>
      <ol>
        <li>Create a folder under <b>Content/Resources/Images</b> and copy the images imported from XMetal into it. If needed, add the necessary name prefixes.</li>
        <li>Open a file that includes any image using the <b>Text Editor</b> view and locate the image reference.</li>
        <li><p>Insert an image from the project folder into the file to see what the new reference should look like.</p>
          <p><img src="assets/images/img_08_ImageLinks.png" width="80%" class="p-1 border"></p>
        </li>
        <li>Copy the SharePoint path and use <b>Find and Replace</b> to change it to the new path.
        <p>For example, if you updated the image name prefixes, you may need to make the following replacement:</p>
        <p><b>https://sharepoint/sites/education/contentlibrary/Installation/img_</b></p>
        <p>to</p>
        <p><b>../Resources/Images/InstallaLon/install_</b></p>
          <p class="alert alert-info">If all your images were in the same folder, you can mass-replace the references using <b>Replace All</b>.</p>
        </li>
        <li>After you replace the references, switch to the <b>XML Editor</b> view to check if the images display in the file. If this does not happen, verify the links and image names are correct.</li>
        <li>Now you need to assign the standard class to the images. To do this for multiple images at once, go to <b>Find and Replace > Find Elements</b>.</li>
        <li>Under <b>Find</b>, select <b>Tag</b> and set it to <b>img</b>.</li>
        <li><p>Under <b>Replace/Action</b>, select <b>Add Class</b> and in the field to the right, enter <b>image-with-border</b>.</p>
          <p><img src="assets/images/img_09_ImageStyle.png" width="40%" class="p-1 border"></p>
        </li>
        <li>Verify <b>Find in</b> is set to documents in the same folder and select <b>Replace All</b>.</li>
      </ol>
      <h2 id="formattables">Format imported tables</h2>
      <p>The look of the imported tables may differ depending on the type they had in the XMetal file.</p>
      <p><b>Normal</b> tables have the necessary classes assigned during the import and display as needed; however, they may have additional styles assigned to rows and columns. You may need to review and clean them up.</p>
      <p><b>Simpletables</b> do not get assigned with the necessary classes during the import and do not include the <b>col</b> tag, so you need to recreate them from the standard template.</p>
      <h2 id="movetoproduction">Move files to production</h2>
      <p>When you complete conversion and cleanup, you are ready move the XML files and images to your production project. You can then attach them to an existing TOC or create a new one.</p>
      <p class="alert alert-info">Note that all references in the files (images, snippets, and so on) rely on the Content folder structure. It is important that you copy the files to a folder on the same level as where they were in your sandbox project.</p>
		     
      <hr class="divider">
      </div>
    </div>
		
  <!-- Back To Top --> 
  <a id="back-to-top" data-toggle="tooltip" title="Back to Top" href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a> 	
  
 <!-- Footer
  ============================ -->
  <footer id="footer" class="section bg-light-1 footer-text-dark-1">
    <div class="container">
	  <p class="text-2 text-center mb-0"> HTML Template Design &amp; Develop by <a class="btn-link" target="_blank" href="http://www.harnishdesign.net/">HarnishDesign</a>.</p>
    <p class="text-center">Copyright &copy; 2020 <a href="http://www.harnishdesign.net/idocs-one-page-documentation-html-template/">iDocs</a>. All Rights Reserved.</p>
    </div>
  </footer>
  <!-- Footer end -->

<!-- JavaScript
============================ -->
<script src="assets/vendor/jquery/jquery.min.js"></script> 
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> 
<!-- Highlight JS -->
<script src="assets/vendor/highlight.js/highlight.min.js"></script> 
<!-- Easing --> 
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script> 
<!-- Magnific Popup --> 
<script src="assets/vendor/magnific-popup/jquery.magnific-popup.min.js"></script> 
<!-- Custom Script -->
<script src="assets/js/theme.js"></script>
</body>
</html>
